{"version":3,"sources":["../src/app/app.js","../src/app/components/sessions/module.js","../src/app/components/travelers/module.js","../src/app/components/repositories/controllers/repositoriesController.js","../src/app/components/repositories/controllers/repositoryShowController.js","../src/app/components/repositories/repositoriesResource.js","../src/app/components/sessions/sessionsController.js","../src/app/components/sessions/sessionsResource.js","../src/app/components/travelers/directives/destination.js","../src/app/components/travelers/directives/travelerDropdown.js","../src/app/components/travelers/travelersController.js","../src/app/components/travelers/travelersResource.js","../src/app/config/interceptors.js","../src/app/config/routes.js","../src/app/shared/directives/reloadButton.js","../src/app/shared/services/sessionService.js"],"names":[],"mappings":"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","file":"production.js","sourcesContent":["var API_SERVER = 'https://young-beyond-8772.herokuapp.com/'\nvar mortGageClub = angular.module('mortGageClub',\n  [\n    'ngRoute',\n    'ngResource',\n    'ui.router',\n    'sessions',\n    'travelers'\n  ]);\n","var sessionsModule = angular.module('sessions', []);\n","var travelersModule = angular.module('travelers', []);\n","mortGageClub.controller('repositoriesController',\n  ['$scope', 'repositoriesResource', function($scope, Repository) {\n    var init = function() {\n      Repository.query(function(data) {\n        $scope.repositories = data;\n      });\n    }\n    init();\n  }\n]);\n","mortGageClub.controller('repositoryShowController',\n  ['$scope', 'repositoriesResource', '$stateParams', function($scope, Repository, $stateParams) {\n    var init = function() {\n      Repository.get({ id: $stateParams.id }, function(data) {\n        $scope.repository = data;\n      });\n    }\n    init();\n  }\n]);\n","mortGageClub.factory('repositoriesResource', ['$resource', function($resource) {\n  return $resource(API_SERVER +'repositories/:id.json', {\n      id: '@id'\n    });\n  }\n]);\n","sessionsModule.controller('sessionsController',\n ['$scope', '$location', 'sessionsResource', 'SessionService', function($scope, $location, Session, SessionService) {\n  $scope.session = {\n    name: '',\n  };\n\n  $scope.create = function() {\n    success = function(data) {\n      SessionService.setUserAuthenticated(data)\n      $location.path('/travelers')\n    },\n    error = function(data) {\n      alert('login failed');\n    }\n    Session.save($scope.session).$promise.then(success, error);\n  }\n}]);\n","sessionsModule.factory('sessionsResource', ['$resource', function($resource) {\n  return $resource(API_SERVER + 'auth/:id.json',\n    {\n      id: '@id'\n    }\n  );\n}])\n","travelersModule.directive('destination', function() {\n  return {\n    restrict: 'E',\n    scope: {\n      destination: '=info'\n    },\n    templateUrl: \"/src/app/components/travelers/views/_destination.html\",\n    link: function(scope, element) {\n      return null;\n    }\n  }\n});\n","travelersModule.directive('travelerDropdown', function() {\n  return {\n    restrict: 'E',\n    scope: {\n      traveler: '=info'\n    },\n    templateUrl: \"/src/app/components/travelers/views/_travelerDropdown.html\"\n  }\n});\n","travelersModule.controller('travelersController',\n  ['$scope', 'travelersResource', function($scope, Traveler) {\n    Traveler.query(function(data) {\n      $scope.travelers = data;\n      $scope.currentTraveler = data[0];\n    });\n    $scope.newDestination = null;\n\n    $scope.addDestination = function() {\n      var destination = {\n        name: $scope.newDestination,\n        visited: false\n      }\n      var params;\n      angular.copy($scope.currentTraveler, params);\n      debugger\n      params.destinations.push(destination)\n\n      Traveler.save({id: params.id}, params, function(data) {\n        console.log(data)\n        $scope.currentTraveler.destinations.push(newDestination);\n      });\n      // $scope.currentTraveler.destinations.push(destination);\n      // $scope.currentTraveler.$save;\n    }\n  }\n]);\n","travelersModule.factory('travelersResource', ['$resource', function($resource) {\n  return $resource(API_SERVER + 'travelers/:id.json', {\n      id: '@id'\n    });\n  }\n]);\n","mortGageClub.factory('sessionInjector', ['SessionService', function(SessionService) {\n  return {\n    request: function(config) {\n      if (SessionService.currentUser) {\n        config.headers['Authorization'] = SessionService.authorization_token();\n      }\n      return config;\n    }\n  };\n}]);\n\nmortGageClub.config(['$httpProvider', function($httpProvider) {\n  $httpProvider.interceptors.push('sessionInjector');\n}]);\n","mortGageClub.config(['$stateProvider', '$urlRouterProvider', '$locationProvider',\n  function($stateProvider, $urlRouterProvider, $locationProvider) {\n    $urlRouterProvider.otherwise(\"/\");\n    $stateProvider\n      .state('start', {\n        url: '/',\n        templateUrl: '/src/app/components/sessions/new.html',\n        controller: 'sessionsController'\n      })\n      .state('travelers', {\n        url: '/travelers',\n        templateUrl: '/src/app/components/travelers/views/index.html',\n        controller: 'travelersController',\n        data: {\n          requireLogin: true\n        }\n      })\n      .state('repositoryShow', {\n        url: '/repository/:id',\n        templateUrl: '/src/app/components/repositories/views/show.html',\n        controller: 'repositoryShowController'\n      });\n  }\n]);\n\nmortGageClub.run(['$rootScope', '$state', 'SessionService', function($rootScope, $state, SessionService) {\n  $rootScope.$on('$stateChangeStart', function(event, toState, toParams, fromState, fromParams){\n    if((toState.data) && (toState.data.requireLogin)) {\n      if(SessionService.currentUser == null) {\n        event.preventDefault();\n        $state.go('start');\n      }\n    }\n  });\n}]);\n","mortGageClub.directive('reloadButton', ['$state', function($state) {\n  return {\n    restrict: 'C',\n    link: function(scope, element) {\n      element.on('click', function() {\n        $state.go($state.current, {}, {reload: true});\n      });\n    }\n  }\n}]);\n","mortGageClub.service('SessionService', ['$window', function($window) {\n  _this = this;\n  this.currentUser = null;\n  this.token = '';\n  var setAuthorization = function(data) {\n    _this.currentUser = data.id;\n    _this.token = data.token;\n  }\n\n  if($window.localStorage.token != null) {\n    setAuthorization($window.localStorage);\n  }\n  this.setUserAuthenticated = function(data) {\n    $window.localStorage.userid = data.id;\n    $window.localStorage.token = data.token;\n    setAuthorization(data);\n  }\n\n  this.authorization_token = function() {\n    return 'Token token=' + _this.token;\n  }\n}]);\n"]}